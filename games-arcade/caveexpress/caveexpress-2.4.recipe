SUMMARY="Classic 2D platformer with physics-based gameplay and dozens of levels"
DESCRIPTION="Master your pedal-powered flying machine to pick up packages \
from your cave-dwelling clients and drop them off at the collection point. \
But beware! Mighty mastodons, terrifying pterodactyls and others \
would rather see you extinct."
HOMEPAGE="https://caveproductions.org/"
COPYRIGHT="2014-2016 Martin Gerhardy"
LICENSE="GNU GPL v3"
REVISION="1"
SOURCE_URI="https://github.com/mgerhardy/caveexpress/archive/$portVersion.tar.gz"
CHECKSUM_SHA256="c1bf0707a4a2bcf2358b2791d97674a790d9fdce3ba29c695b9fa97030d74d3f"

PATCHES="caveexpress-$portVersion.patchset"

ARCHITECTURES="x86_gcc2 x86 x86_64"

PROVIDES="
		caveexpress = $portVersion
		"
REQUIRES="
		haiku
		lib:liblua
		lib:libBox2D
		lib:libSDL2
		lib:libSDL2_mixer
		lib:libSDL2_net
		lib:libSDL2_image
		lib:libsqlite3
		"

BUILD_REQUIRES="
		haiku_devel
		glm_devel
		devel:liblua
		devel:libBox2D
		devel:libSDL2
		devel:libSDL2_mixer
		devel:libSDL2_net
		devel:libSDL2_image
		devel:libsqlite3
		"
BUILD_PREREQUIRES="
		cmd:cmake
		cmd:gcc
		cmd:make
		"

BUILD()
{
		mkdir -p build
		cd build
		cmake ..
		make $jobArgs
}

INSTALL()
{
		make install
}
